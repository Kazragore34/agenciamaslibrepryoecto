<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Portfolio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .debug-info {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .ok { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
        pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üîç Debug - Portfolio</h1>
    
    <div class="debug-info">
        <h2>Estado del Sistema</h2>
        <div id="status"></div>
    </div>

    <div class="debug-info">
        <h2>Archivos Detectados</h2>
        <div id="files"></div>
    </div>

    <div class="debug-info">
        <h2>Console Logs</h2>
        <div id="console"></div>
    </div>

    <script>
        console.log('üîç Debug page loaded');
        console.log('üìç Current URL:', window.location.href);
        console.log('üìÅ Current path:', window.location.pathname);
        
        const statusDiv = document.getElementById('status');
        const filesDiv = document.getElementById('files');
        const consoleDiv = document.getElementById('console');

        // Verificar archivos
        const filesToCheck = [
            'index.html',
            'assets/index.js',
            'assets/index.css',
            'src/main.tsx',
            'package.json'
        ];

        let statusHTML = '';
        let filesHTML = '<ul>';

        // Verificar si estamos en producci√≥n (con assets) o desarrollo (con src)
        const hasAssets = document.querySelector('script[src*="assets/"]');
        const hasSrc = document.querySelector('script[src*="/src/"]');

        if (hasAssets) {
            statusHTML += '<div class="status ok">‚úÖ Modo PRODUCCI√ìN detectado (archivos compilados)</div>';
        } else if (hasSrc) {
            statusHTML += '<div class="status warning">‚ö†Ô∏è Modo DESARROLLO detectado (necesita build)</div>';
        } else {
            statusHTML += '<div class="status error">‚ùå No se detectaron archivos JavaScript</div>';
        }

        // Verificar estructura
        fetch('/index.html')
            .then(r => {
                if (r.ok) {
                    statusHTML += '<div class="status ok">‚úÖ index.html accesible</div>';
                } else {
                    statusHTML += '<div class="status error">‚ùå index.html no accesible</div>';
                }
                statusDiv.innerHTML = statusHTML;
            })
            .catch(e => {
                statusHTML += '<div class="status error">‚ùå Error al verificar index.html: ' + e.message + '</div>';
                statusDiv.innerHTML = statusHTML;
            });

        // Intentar cargar assets
        fetch('/assets/index.js')
            .then(r => {
                if (r.ok) {
                    filesHTML += '<li class="status ok">‚úÖ /assets/index.js existe</li>';
                } else {
                    filesHTML += '<li class="status error">‚ùå /assets/index.js no existe (necesita build)</li>';
                }
                filesDiv.innerHTML = filesHTML + '</ul>';
            })
            .catch(e => {
                filesHTML += '<li class="status error">‚ùå Error al verificar assets: ' + e.message + '</li>';
                filesDiv.innerHTML = filesHTML + '</ul>';
            });

        // Capturar console logs
        const originalLog = console.log;
        const originalError = console.error;
        const logs = [];

        console.log = function(...args) {
            logs.push({ type: 'log', args, time: new Date().toLocaleTimeString() });
            originalLog.apply(console, args);
            updateConsole();
        };

        console.error = function(...args) {
            logs.push({ type: 'error', args, time: new Date().toLocaleTimeString() });
            originalError.apply(console, args);
            updateConsole();
        };

        function updateConsole() {
            consoleDiv.innerHTML = '<pre>' + logs.map(log => 
                `[${log.time}] ${log.type.toUpperCase()}: ${log.args.map(a => 
                    typeof a === 'object' ? JSON.stringify(a, null, 2) : String(a)
                ).join(' ')}`
            ).join('\n') + '</pre>';
        }

        // Log inicial
        console.log('Debug page initialized');
        console.log('User Agent:', navigator.userAgent);
        console.log('Screen:', window.screen.width + 'x' + window.screen.height);
    </script>
</body>
</html>
